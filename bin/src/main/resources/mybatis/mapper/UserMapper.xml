<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kb.samoim.dao.UserDao">
    
    <insert id="saveUser" parameterType="com.kb.samoim.dto.UserDto">
        INSERT INTO USER
        (EMAIL, NAME, PHONE, PASSWORD, GENDER, BIRTH, CITY, ADDRESS, INTEREST, PHOTO_PATH, TAG)
        VALUES
        (#{email},#{name},#{phone},#{password},#{gender},#{birth},#{city},#{address},#{interest},#{photo_path},#{tag});
    </insert>
    
    <select id="findByEmail" parameterType="string" resultType="com.kb.samoim.dto.UserDto">
    	SELECT *
    	FROM USER
    	WHERE EMAIL = #{email}
    </select>
    
    <update id="updateInterest" parameterType="com.kb.samoim.dto.UserDto">
    	UPDATE USER
    	SET INTEREST = #{interest}
    	WHERE EMAIL = #{email}
    </update>
    
    <update id="updateUser" parameterType="com.kb.samoim.dto.UserDto">
    	UPDATE USER
    	SET PHONE = {phone}, INTEREST = #{interest}
    	WHERE EMAIL = #{email}
    </update>
        
</mapper>
